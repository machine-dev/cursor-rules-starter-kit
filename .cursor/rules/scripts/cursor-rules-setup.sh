#!/bin/bash

# ðŸš€ Cursor Rules Project Setup Script
# æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç”¨ã®Cursorãƒ«ãƒ¼ãƒ«å‹•çš„å‚ç…§ã‚·ã‚¹ãƒ†ãƒ è‡ªå‹•ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

set -e  # ã‚¨ãƒ©ãƒ¼æ™‚ã«åœæ­¢

# è‰²ä»˜ããƒ­ã‚°
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
BLUE='\033[0;34m'
NC='\033[0m' # No Color

log_info() { echo -e "${BLUE}â„¹ï¸  $1${NC}"; }
log_success() { echo -e "${GREEN}âœ… $1${NC}"; }
log_warning() { echo -e "${YELLOW}âš ï¸  $1${NC}"; }
log_error() { echo -e "${RED}âŒ $1${NC}"; }

# ãƒãƒŠãƒ¼è¡¨ç¤º
show_banner() {
    echo -e "${BLUE}"
    echo "ðŸš€ ============================================="
    echo "   Cursor Rules Project Setup Script"
    echo "   å‹•çš„å‚ç…§ã‚·ã‚¹ãƒ†ãƒ è‡ªå‹•åˆæœŸåŒ–"
    echo "=============================================${NC}"
    echo ""
}

# è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®å­˜åœ¨ç¢ºèªãƒ»ä½œæˆ
setup_config() {
    if [[ ! -f ".cursor-project-config" ]]; then
        log_info "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™..."
        
        read -p "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåã‚’å…¥åŠ›ã—ã¦ãã ã•ã„: " PROJECT_NAME
        read -p "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚¿ã‚¤ãƒ— (web-app/api/library/tool): " PROJECT_TYPE
        read -p "æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ (ä¾‹: Next.js,Supabase,Vercel): " TECH_STACK
        read -p "ãƒãƒ¼ãƒ ã‚µã‚¤ã‚º (small/medium/large): " TEAM_SIZE
        read -p "GitHubãƒªãƒã‚¸ãƒˆãƒªURL: " REPO_URL
        
        cat > .cursor-project-config << EOF
# Cursor Rules Project Configuration
PROJECT_NAME="${PROJECT_NAME:-MyProject}"
PROJECT_TYPE="${PROJECT_TYPE:-web-app}"
TECH_STACK="${TECH_STACK:-React,Node.js}"
TEAM_SIZE="${TEAM_SIZE:-small}"
REPO_URL="${REPO_URL:-https://github.com/owner/repo}"
DEVELOPMENT_PERIOD="3months"

# æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯è©³ç´°
FRONTEND="$(echo $TECH_STACK | cut -d',' -f1)"
BACKEND="$(echo $TECH_STACK | cut -d',' -f2)"
DATABASE="PostgreSQL"
DEPLOYMENT="Vercel"
AI_LLM="OpenAI"

# ãƒãƒ¼ãƒ è¨­å®š
TEAM_EXPERIENCE="mixed"
DEVELOPMENT_STYLE="agile"
BRANCH_STRATEGY="github-flow"
CI_CD="github-actions"

# ä½œæˆæ—¥æ™‚
CREATED_DATE="$(date)"
SETUP_VERSION="1.0.0"
EOF
        log_success "è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«(.cursor-project-config)ã‚’ä½œæˆã—ã¾ã—ãŸ"
    fi
    
    # è¨­å®šèª­ã¿è¾¼ã¿
    source .cursor-project-config
    log_info "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®šã‚’èª­ã¿è¾¼ã¿ã¾ã—ãŸ: $PROJECT_NAME"
}

# ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ä½œæˆ
create_directory_structure() {
    log_info "ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã‚’ä½œæˆä¸­..."
    
    # åŸºæœ¬ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆ
    mkdir -p .cursor/rules/{core,development/{guidelines,patterns,workflows},implementation/{llm,quality,logging},system,metadata,templates/{tech-stack,team-structure},scripts}
    
    # ã‚¹ã‚¯ãƒªãƒ—ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
    mkdir -p .cursor/rules/scripts
    
    # GitHub Actions ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
    mkdir -p .github/workflows
    
    log_success "ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã‚’ä½œæˆã—ã¾ã—ãŸ"
}

# ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆç”Ÿæˆ
generate_entry_point() {
    log_info "ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ(mdc-metadata-manager.mdc)ã‚’ç”Ÿæˆä¸­..."
    
    cat > .cursor/rules/mdc-metadata-manager.mdc << EOF
---
description: ${PROJECT_NAME}ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®Cursorãƒ«ãƒ¼ãƒ«å‹•çš„å‚ç…§ã‚·ã‚¹ãƒ†ãƒ ãƒ»ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
globs: ["*"]
alwaysApply: true
---

# ðŸŽ¯ ${PROJECT_NAME} - Cursorãƒ«ãƒ¼ãƒ«ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 

**ç­–å®šæ—¥**: $(date +%Yå¹´%mæœˆ%dæ—¥)  
**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**: ${PROJECT_NAME}  
**æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯**: ${TECH_STACK}  
**ãƒãƒ¼ãƒ è¦æ¨¡**: ${TEAM_SIZE}  
**ãƒªãƒã‚¸ãƒˆãƒª**: ${REPO_URL}

## ðŸš€ ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®å½¹å‰²

### ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆæ©Ÿèƒ½
- **æœ€åˆã®å‚ç…§**: CursorãŒæœ€åˆã«ç¢ºèªã™ã‚‹ãƒ«ãƒ¼ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«
- **å‚ç…§åˆ¶å¾¡**: ãƒ¦ãƒ¼ã‚¶ãƒ¼æŒ‡ç¤ºã«åŸºã¥ãé©åˆ‡ãªãƒ«ãƒ¼ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã¸èª˜å°Ž
- **æ§‹é€ ç®¡ç†**: å…¨ä½“ã®.mdcãƒ•ã‚¡ã‚¤ãƒ«æ§‹é€ ã‚’çµ±åˆ¶

## ðŸ“‹ å‚ç…§åˆ¶å¾¡ã‚·ã‚¹ãƒ†ãƒ 

### ðŸ”´ **å¸¸æ™‚å‚ç…§ï¼ˆalwaysApply: trueï¼‰**

#### 1. **mdc-metadata-manager.mdc** - æœ¬ãƒ•ã‚¡ã‚¤ãƒ«
- **å½¹å‰²**: ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆãƒ»å‚ç…§åˆ¶å¾¡
- **å‚ç…§ã‚¿ã‚¤ãƒŸãƒ³ã‚°**: å…¨ã¦ã®æ“ä½œã§æœ€åˆã«å‚ç…§

#### 2. **mdc-creation-guidelines.mdc**
- **å½¹å‰²**: .mdcãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆã®å“è³ªåŸºæº–
- **å‚ç…§ã‚¿ã‚¤ãƒŸãƒ³ã‚°**: .mdcãƒ•ã‚¡ã‚¤ãƒ«é–¢é€£ä½œæ¥­æ™‚

#### 3. **core/project-overview.mdc**
- **å½¹å‰²**: ${PROJECT_NAME}ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåŸºç›¤æƒ…å ±
- **å‚ç…§ã‚¿ã‚¤ãƒŸãƒ³ã‚°**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“ã«é–¢ã‚ã‚‹ä½œæ¥­æ™‚

#### 4. **core/commit-rules.mdc**
- **å½¹å‰²**: Gitæ“ä½œã®å“è³ªç®¡ç†
- **å‚ç…§ã‚¿ã‚¤ãƒŸãƒ³ã‚°**: ã‚³ãƒŸãƒƒãƒˆãƒ»ãƒ—ãƒƒã‚·ãƒ¥ä½œæ¥­æ™‚

#### 5. **core/cursorrules.mdc**
- **å½¹å‰²**: Cursor AIåŸºæœ¬å‹•ä½œãƒ«ãƒ¼ãƒ«
- **å‚ç…§ã‚¿ã‚¤ãƒŸãƒ³ã‚°**: å…¨ã¦ã®æ“ä½œæ™‚

### ðŸŸ  **å‹•çš„å‚ç…§ï¼ˆalwaysApply: falseï¼‰**

#### æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯å›ºæœ‰ãƒ«ãƒ¼ãƒ«
\`\`\`yaml
${TECH_STACK_RULES}
\`\`\`

#### ãƒãƒ¼ãƒ æ§‹æˆå¯¾å¿œãƒ«ãƒ¼ãƒ«
\`\`\`yaml
team-structure/:
  - ${TEAM_SIZE}-team.mdc             # ${TEAM_SIZE}ãƒãƒ¼ãƒ å‘ã‘ãƒ«ãƒ¼ãƒ«
\`\`\`

## ðŸŽ¯ ãƒ¦ãƒ¼ã‚¶ãƒ¼æŒ‡ç¤ºåˆ¥å‚ç…§ãƒžãƒˆãƒªãƒƒã‚¯ã‚¹

### ðŸ“ .mdcãƒ•ã‚¡ã‚¤ãƒ«é–¢é€£æŒ‡ç¤º
\`\`\`yaml
æŒ‡ç¤ºãƒ‘ã‚¿ãƒ¼ãƒ³:
  - "æ–°ã—ã„ãƒ«ãƒ¼ãƒ«ã‚’ä½œæˆ"
  - "ãƒ«ãƒ¼ãƒ«ã‚’ä¿®æ­£"  
  - "ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ä½œæˆ"

å¿…é ˆå‚ç…§:
  - mdc-creation-guidelines.mdc (ä½œæˆåŸºæº–)
  - mdc-file-storage-rules.md (æ ¼ç´å ´æ‰€)
\`\`\`

### ðŸ”§ é–‹ç™ºãƒ»å®Ÿè£…æŒ‡ç¤º
\`\`\`yaml
æŒ‡ç¤ºãƒ‘ã‚¿ãƒ¼ãƒ³:
  - "æ©Ÿèƒ½ã‚’å®Ÿè£…"
  - "ãƒã‚°ã‚’ä¿®æ­£"
  - "ã‚³ãƒ¼ãƒ‰ã‚’æ”¹å–„"

å¿…é ˆå‚ç…§:
  - development/workflows/recommended_workflow.mdc
  - core/commit-rules.mdc

æ¡ä»¶å‚ç…§:
  - templates/tech-stack/${FRONTEND,,}-*.mdc (ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ä½œæ¥­æ™‚)
  - templates/tech-stack/${BACKEND,,}-*.mdc (ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ä½œæ¥­æ™‚)
\`\`\`

### ðŸ—ï¸ ${PROJECT_NAME}å›ºæœ‰æŒ‡ç¤º
\`\`\`yaml
æŒ‡ç¤ºãƒ‘ã‚¿ãƒ¼ãƒ³:
  - "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰ã®å®Ÿè£…"
  - "${PROJECT_TYPE}ã®é–‹ç™º"
  - "${TECH_STACK}ã§ã®å®Ÿè£…"

å¿…é ˆå‚ç…§:
  - core/project-overview.mdc
  - templates/tech-stack/ (æŠ€è¡“å›ºæœ‰ãƒ«ãƒ¼ãƒ«)

æ¡ä»¶å‚ç…§:
  - templates/team-structure/${TEAM_SIZE}-team.mdc
\`\`\`

---

## ðŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

\`\`\`
.cursor/rules/
â”œâ”€â”€ mdc-metadata-manager.mdc           # ðŸŽ¯ ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”œâ”€â”€ mdc-creation-guidelines.mdc        # ðŸ“ ä½œæˆã‚¬ã‚¤ãƒ‰
â”œâ”€â”€ mdc-file-storage-rules.md          # ðŸ“ æ ¼ç´ãƒ«ãƒ¼ãƒ«
â”œâ”€â”€ project-starter-kit.mdc           # ðŸš€ ã‚¹ã‚¿ãƒ¼ã‚¿ãƒ¼ã‚­ãƒƒãƒˆ
â”œâ”€â”€ core/                              # ðŸ›ï¸ ${PROJECT_NAME}æ ¸å¿ƒãƒ«ãƒ¼ãƒ«
â”‚   â”œâ”€â”€ cursorrules.mdc               # CursoråŸºæœ¬å‹•ä½œ
â”‚   â”œâ”€â”€ commit-rules.mdc              # Gitç®¡ç†
â”‚   â””â”€â”€ project-overview.mdc          # ${PROJECT_NAME}æ¦‚è¦
â”œâ”€â”€ development/                       # ðŸ”§ é–‹ç™ºé–¢é€£
â”‚   â”œâ”€â”€ guidelines/
â”‚   â”œâ”€â”€ patterns/
â”‚   â””â”€â”€ workflows/
â”œâ”€â”€ implementation/                    # ðŸ› ï¸ å®Ÿè£…é–¢é€£  
â”‚   â”œâ”€â”€ llm/
â”‚   â”œâ”€â”€ quality/
â”‚   â””â”€â”€ logging/
â”œâ”€â”€ system/                           # âš™ï¸ ã‚·ã‚¹ãƒ†ãƒ é–¢é€£
â””â”€â”€ templates/                        # ðŸ“‹ ${PROJECT_NAME}ç‰¹åŒ–ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
    â”œâ”€â”€ tech-stack/                   # ${TECH_STACK}å›ºæœ‰ãƒ«ãƒ¼ãƒ«
    â””â”€â”€ team-structure/               # ${TEAM_SIZE}ãƒãƒ¼ãƒ å¯¾å¿œ
\`\`\`

---

## ðŸ“Š ${PROJECT_NAME}ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰è¨­å®š

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæƒ…å ±
- **ã‚¿ã‚¤ãƒ—**: ${PROJECT_TYPE}
- **é–‹ç™ºæœŸé–“**: ${DEVELOPMENT_PERIOD}
- **ãƒ–ãƒ©ãƒ³ãƒæˆ¦ç•¥**: ${BRANCH_STRATEGY}
- **CI/CD**: ${CI_CD}

### æŠ€è¡“æ§‹æˆ
- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰**: ${FRONTEND}
- **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰**: ${BACKEND}
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**: ${DATABASE}
- **ãƒ‡ãƒ—ãƒ­ã‚¤**: ${DEPLOYMENT}
- **AI/LLM**: ${AI_LLM}

### ãƒãƒ¼ãƒ æ§‹æˆ
- **ã‚µã‚¤ã‚º**: ${TEAM_SIZE}
- **çµŒé¨“ãƒ¬ãƒ™ãƒ«**: ${TEAM_EXPERIENCE}
- **é–‹ç™ºã‚¹ã‚¿ã‚¤ãƒ«**: ${DEVELOPMENT_STYLE}

---

## ðŸ“ æ›´æ–°å±¥æ­´

| æ—¥ä»˜ | æ›´æ–°å†…å®¹ | æ›´æ–°è€… |
|------|----------|--------|
| $(date +%Y-%m-%d) | ${PROJECT_NAME}ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç”¨ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆè‡ªå‹•ç”Ÿæˆ | Setup Script |

**æ¬¡å›žè¦‹ç›´ã—äºˆå®š**: $(date -d "+1 month" +%Y-%m-%d)  
**ç®¡ç†è€…**: ${PROJECT_NAME}ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†è€…

---

**ðŸŽ¯ é‡è¦**: ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯${PROJECT_NAME}ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®Cursorãƒ«ãƒ¼ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã®ä¸­æ ¸ã§ã™ã€‚å…¨ã¦ã®.mdcé–¢é€£ä½œæ¥­ã¯ã€ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èµ·ç‚¹ã¨ã—ã¦å®Ÿè¡Œã•ã‚Œã¾ã™ã€‚
EOF

    log_success "ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆã‚’ç”Ÿæˆã—ã¾ã—ãŸ"
}

# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦ç”Ÿæˆ
generate_project_overview() {
    log_info "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦(project-overview.mdc)ã‚’ç”Ÿæˆä¸­..."
    
    cat > .cursor/rules/core/project-overview.mdc << EOF
---
description: ${PROJECT_NAME}ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ¦‚è¦ã€ç›®æ¨™ã€æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ã€åˆ¶ç´„æ¡ä»¶ã‚’å®šç¾©
globs: ["*"]
alwaysApply: true
---

# ${PROJECT_NAME} ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå**: ${PROJECT_NAME}  
**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚¿ã‚¤ãƒ—**: ${PROJECT_TYPE}  
**ä½œæˆæ—¥**: $(date +%Yå¹´%mæœˆ%dæ—¥)  
**æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯**: ${TECH_STACK}

## ðŸŽ¯ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæƒ…å ±

### åŸºæœ¬æƒ…å ±
- **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå**: ${PROJECT_NAME}
- **ç›®æ¨™**: [å…·ä½“çš„ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›®æ¨™ã‚’è¨˜è¿°ã—ã¦ãã ã•ã„]
- **æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯**: ${TECH_STACK}
- **é–‹ç™ºæœŸé–“**: ${DEVELOPMENT_PERIOD}
- **ãƒªãƒã‚¸ãƒˆãƒª**: ${REPO_URL}

### ãƒãƒ¼ãƒ æ§‹æˆ
- **ãƒãƒ¼ãƒ ã‚µã‚¤ã‚º**: ${TEAM_SIZE}
- **çµŒé¨“ãƒ¬ãƒ™ãƒ«**: ${TEAM_EXPERIENCE}
- **é–‹ç™ºã‚¹ã‚¿ã‚¤ãƒ«**: ${DEVELOPMENT_STYLE}
- **ãƒ–ãƒ©ãƒ³ãƒæˆ¦ç•¥**: ${BRANCH_STRATEGY}

## ðŸ—ï¸ æŠ€è¡“ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
- **ä¸»è¦æŠ€è¡“**: ${FRONTEND}
- **UI/UX**: [UIãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ»ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ã‚’è¨˜è¿°]
- **çŠ¶æ…‹ç®¡ç†**: [çŠ¶æ…‹ç®¡ç†ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’è¨˜è¿°]

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
- **ä¸»è¦æŠ€è¡“**: ${BACKEND}
- **APIè¨­è¨ˆ**: [APIè¨­è¨ˆæ–¹é‡ã‚’è¨˜è¿°]
- **èªè¨¼ãƒ»èªå¯**: [èªè¨¼ã‚·ã‚¹ãƒ†ãƒ ã‚’è¨˜è¿°]

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
- **ä¸»è¦æŠ€è¡“**: ${DATABASE}
- **ãƒ‡ãƒ¼ã‚¿è¨­è¨ˆ**: [ãƒ‡ãƒ¼ã‚¿è¨­è¨ˆæ–¹é‡ã‚’è¨˜è¿°]
- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹**: [ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹è¦ä»¶ã‚’è¨˜è¿°]

### ã‚¤ãƒ³ãƒ•ãƒ©ãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤
- **ãƒ‡ãƒ—ãƒ­ã‚¤å…ˆ**: ${DEPLOYMENT}
- **CI/CD**: ${CI_CD}
- **ç›£è¦–ãƒ»ãƒ­ã‚°**: [ç›£è¦–ã‚·ã‚¹ãƒ†ãƒ ã‚’è¨˜è¿°]

### AI/LLM (è©²å½“ã™ã‚‹å ´åˆ)
- **AIæŠ€è¡“**: ${AI_LLM}
- **åˆ©ç”¨ç›®çš„**: [AIæ´»ç”¨ç›®çš„ã‚’è¨˜è¿°]
- **ãƒ‡ãƒ¼ã‚¿å‡¦ç†**: [AIé–¢é€£ãƒ‡ãƒ¼ã‚¿å‡¦ç†ã‚’è¨˜è¿°]

## ðŸ“‹ é–‹ç™ºåˆ¶ç´„ãƒ»è¦ä»¶

### æŠ€è¡“åˆ¶ç´„
- [æŠ€è¡“çš„åˆ¶ç´„äº‹é …ã‚’åˆ—æŒ™]
- [ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹è¦ä»¶]
- [ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¦ä»¶]

### ãƒ“ã‚¸ãƒã‚¹åˆ¶ç´„
- [äºˆç®—åˆ¶ç´„]
- [ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«åˆ¶ç´„]
- [ãƒªã‚½ãƒ¼ã‚¹åˆ¶ç´„]

### å“è³ªè¦ä»¶
- [å“è³ªåŸºæº–]
- [ãƒ†ã‚¹ãƒˆè¦ä»¶]
- [ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆè¦ä»¶]

## ðŸŽ¯ ãƒžã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ãƒ»ç›®æ¨™

### Phase 1: åŸºç›¤æ§‹ç¯‰ ([äºˆå®šæœŸé–“])
- [å…·ä½“çš„ãªæˆæžœç‰©ãƒ»ç›®æ¨™ã‚’è¨˜è¿°]

### Phase 2: æ©Ÿèƒ½é–‹ç™º ([äºˆå®šæœŸé–“])
- [å…·ä½“çš„ãªæˆæžœç‰©ãƒ»ç›®æ¨™ã‚’è¨˜è¿°]

### Phase 3: æœ€é©åŒ–ãƒ»ãƒªãƒªãƒ¼ã‚¹ ([äºˆå®šæœŸé–“])
- [å…·ä½“çš„ãªæˆæžœç‰©ãƒ»ç›®æ¨™ã‚’è¨˜è¿°]

## ðŸ”— é–¢é€£ãƒªã‚½ãƒ¼ã‚¹

### ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- [è¨­è¨ˆæ›¸ãƒ»ä»•æ§˜æ›¸ã®ãƒªãƒ³ã‚¯]
- [APIæ–‡æ›¸ã®ãƒªãƒ³ã‚¯]

### å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ãƒ»ãƒ„ãƒ¼ãƒ«
- [ä½¿ç”¨ã™ã‚‹å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ä¸€è¦§]
- [é–‹ç™ºãƒ„ãƒ¼ãƒ«ä¸€è¦§]

### å‚è€ƒè³‡æ–™
- [æŠ€è¡“å‚è€ƒè³‡æ–™]
- [ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹è³‡æ–™]

---

## ðŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰ãƒ«ãƒ¼ãƒ«

### é–‹ç™ºãƒ«ãƒ¼ãƒ«
- [${PROJECT_NAME}å›ºæœ‰ã®é–‹ç™ºãƒ«ãƒ¼ãƒ«]

### ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„
- [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰ã®ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„]

### ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ»å“è³ªç®¡ç†
- [ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ—ãƒ­ã‚»ã‚¹]
- [å“è³ªãƒã‚§ãƒƒã‚¯é …ç›®]

---

## ðŸ“Š æ›´æ–°å±¥æ­´

| æ—¥ä»˜ | æ›´æ–°å†…å®¹ | æ›´æ–°è€… |
|------|----------|--------|
| $(date +%Y-%m-%d) | ${PROJECT_NAME}ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦è‡ªå‹•ç”Ÿæˆ | Setup Script |

**æ¬¡å›žè¦‹ç›´ã—äºˆå®š**: $(date -d "+2 weeks" +%Y-%m-%d)  
**ç®¡ç†è€…**: ${PROJECT_NAME}ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†è€…

---

**ðŸ“ TODO**: 
- [ ] ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›®æ¨™ã®è©³ç´°è¨˜è¿°
- [ ] æŠ€è¡“çš„åˆ¶ç´„ã®è¿½åŠ 
- [ ] ãƒžã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã®å…·ä½“åŒ–
- [ ] é–¢é€£ãƒªã‚½ãƒ¼ã‚¹ã®ãƒªãƒ³ã‚¯è¿½åŠ 

**ðŸŽ¯ é‡è¦**: ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯${PROJECT_NAME}ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®åŸºç›¤æƒ…å ±ã§ã™ã€‚ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé€²è¡Œã«å¿œã˜ã¦å®šæœŸçš„ã«æ›´æ–°ã—ã¦ãã ã•ã„ã€‚
EOF

    log_success "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦ã‚’ç”Ÿæˆã—ã¾ã—ãŸ"
}

# åŸºæœ¬ãƒ«ãƒ¼ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ç”Ÿæˆ
generate_basic_rules() {
    log_info "åŸºæœ¬ãƒ«ãƒ¼ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”Ÿæˆä¸­..."
    
    # cursorrules.mdcç”Ÿæˆ
    cat > .cursor/rules/core/cursorrules.mdc << EOF
---
description: ${PROJECT_NAME}ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç”¨Cursor AIåŸºæœ¬å‹•ä½œãƒ«ãƒ¼ãƒ«ãƒ»ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°æ”¯æ´è¨­å®š
globs: ["*"]
alwaysApply: true
---

# ${PROJECT_NAME} - Cursor AI åŸºæœ¬å‹•ä½œãƒ«ãƒ¼ãƒ«

## ðŸŽ¯ ${PROJECT_NAME}ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåŸºæœ¬æ–¹é‡

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæƒ…å ±ã®ç†è§£
- **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå**: ${PROJECT_NAME}
- **æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯**: ${TECH_STACK}
- **ãƒãƒ¼ãƒ è¦æ¨¡**: ${TEAM_SIZE}
- **é–‹ç™ºæœŸé–“**: ${DEVELOPMENT_PERIOD}

### åŸºæœ¬çš„ãªå¿œç­”ãƒ«ãƒ¼ãƒ«
- å¸¸ã«æ—¥æœ¬èªžã§è¿”ç­”ã™ã‚‹
- ${PROJECT_NAME}ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ–‡è„ˆã‚’ç†è§£ã—ã¦å›žç­”ã™ã‚‹
- ${TECH_STACK}æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ã«ç‰¹åŒ–ã—ãŸææ¡ˆã‚’ã™ã‚‹
- ${TEAM_SIZE}ãƒãƒ¼ãƒ å‘ã‘ã®å®Ÿç”¨çš„ãªã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚’æä¾›ã™ã‚‹

## ðŸ”§ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯å›ºæœ‰ãƒ«ãƒ¼ãƒ«

### ${FRONTEND} é–¢é€£
- [${FRONTEND}å›ºæœ‰ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã‚’è¨˜è¿°]
- [ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆæ–¹é‡]
- [çŠ¶æ…‹ç®¡ç†æ–¹é‡]

### ${BACKEND} é–¢é€£  
- [${BACKEND}å›ºæœ‰ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã‚’è¨˜è¿°]
- [APIè¨­è¨ˆæ–¹é‡]
- [ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°æ–¹é‡]

## ðŸ“‹ ${PROJECT_NAME}ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„

### ãƒ•ã‚¡ã‚¤ãƒ«ãƒ»ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå‘½å
- [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰ã®å‘½åè¦ç´„]

### é–¢æ•°ãƒ»å¤‰æ•°å‘½å
- [å‘½åè¦ç´„ã®è©³ç´°]

### ã‚³ãƒ¡ãƒ³ãƒˆãƒ»ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- [ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆæ–¹é‡]

---

**ðŸ“ æ›´æ–°å±¥æ­´**: $(date +%Y-%m-%d) - ${PROJECT_NAME}ç”¨è‡ªå‹•ç”Ÿæˆ
EOF

    # commit-rules.mdcç”Ÿæˆï¼ˆæ±Žç”¨ç‰ˆã‚’ã‚³ãƒ”ãƒ¼ï¼‰
    if [[ -f ".cursor/rules/core/commit-rules.mdc" ]]; then
        log_info "commit-rules.mdcã¯æ—¢ã«å­˜åœ¨ã™ã‚‹ãŸã‚ã‚¹ã‚­ãƒƒãƒ—ã—ã¾ã™"
    else
        cat > .cursor/rules/core/commit-rules.mdc << EOF
---
description: Gitæ“ä½œã®å“è³ªç®¡ç†ãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç¢ºä¿ã®ãŸã‚ã®ã‚³ãƒŸãƒƒãƒˆãƒ»ãƒ—ãƒƒã‚·ãƒ¥ãƒ«ãƒ¼ãƒ«
globs: ["*"]
alwaysApply: true
---

# Git ã‚³ãƒŸãƒƒãƒˆãƒ»ãƒ—ãƒƒã‚·ãƒ¥ãƒ«ãƒ¼ãƒ«

## ðŸŽ¯ ${PROJECT_NAME}ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ Gitç®¡ç†æ–¹é‡

### ãƒ–ãƒ©ãƒ³ãƒæˆ¦ç•¥
- **æˆ¦ç•¥**: ${BRANCH_STRATEGY}
- **ä¸»è¦ãƒ–ãƒ©ãƒ³ãƒ**: main/master
- **é–‹ç™ºãƒ–ãƒ©ãƒ³ãƒ**: feature/*, fix/*, hotfix/*

### ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¦ç´„
\`\`\`
<type>: <æ¦‚è¦>

<è©³ç´°ãªèª¬æ˜Ž>
- å¤‰æ›´ç‚¹1
- å¤‰æ›´ç‚¹2
\`\`\`

#### ã‚¿ã‚¤ãƒ—
- feat: æ–°æ©Ÿèƒ½è¿½åŠ 
- fix: ãƒã‚°ä¿®æ­£  
- docs: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°
- style: ã‚¹ã‚¿ã‚¤ãƒ«å¤‰æ›´
- refactor: ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
- test: ãƒ†ã‚¹ãƒˆè¿½åŠ ãƒ»ä¿®æ­£
- chore: ãã®ä»–ã®å¤‰æ›´

## ðŸ“‹ ãƒ—ãƒƒã‚·ãƒ¥å‰ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### å¿…é ˆç¢ºèªäº‹é …
- [ ] ã‚³ãƒ¼ãƒ‰ãŒæ­£å¸¸ã«å‹•ä½œã™ã‚‹
- [ ] ãƒ†ã‚¹ãƒˆãŒé€šã‚‹
- [ ] ãƒªãƒ³ãƒˆãƒ»ãƒ•ã‚©ãƒ¼ãƒžãƒƒãƒˆã‚¨ãƒ©ãƒ¼ãŒãªã„
- [ ] æ©Ÿå¯†æƒ…å ±ãŒå«ã¾ã‚Œã¦ã„ãªã„
- [ ] .gitignoreãŒé©åˆ‡ã«è¨­å®šã•ã‚Œã¦ã„ã‚‹

### ${PROJECT_NAME}å›ºæœ‰ãƒã‚§ãƒƒã‚¯
- [ ] [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰ã®ãƒã‚§ãƒƒã‚¯é …ç›®]

---

**ðŸ“ æ›´æ–°æ—¥**: $(date +%Y-%m-%d) - ${PROJECT_NAME}ç”¨è¨­å®š
EOF
    fi
    
    log_success "åŸºæœ¬ãƒ«ãƒ¼ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”Ÿæˆã—ã¾ã—ãŸ"
}

# GitHub Actions ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ç”Ÿæˆ
generate_github_actions() {
    log_info "GitHub Actions ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’ç”Ÿæˆä¸­..."
    
    cat > .github/workflows/cursor-rules-check.yml << EOF
name: ${PROJECT_NAME} - Cursor Rules Quality Check

on:
  push:
    paths:
      - '.cursor/rules/**'
  pull_request:
    paths:
      - '.cursor/rules/**'

jobs:
  rules-validation:
    runs-on: ubuntu-latest
    name: Cursor Rules Validation
    
    steps:
      - name: Checkout code
        uses: actions/checkout@v4
        
      - name: Validate Rules Structure
        run: |
          echo "ðŸ” ${PROJECT_NAME} Cursorãƒ«ãƒ¼ãƒ«æ§‹é€ ãƒã‚§ãƒƒã‚¯é–‹å§‹..."
          
          # å¿…é ˆãƒ•ã‚¡ã‚¤ãƒ«å­˜åœ¨ãƒã‚§ãƒƒã‚¯
          required_files=(
            ".cursor/rules/mdc-metadata-manager.mdc"
            ".cursor/rules/mdc-creation-guidelines.mdc"
            ".cursor/rules/core/cursorrules.mdc"
            ".cursor/rules/core/project-overview.mdc"
            ".cursor/rules/core/commit-rules.mdc"
          )
          
          for file in "\${required_files[@]}"; do
            if [[ ! -f "\$file" ]]; then
              echo "âŒ å¿…é ˆãƒ•ã‚¡ã‚¤ãƒ«ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“: \$file"
              exit 1
            fi
          done
          
          echo "âœ… å¿…é ˆãƒ•ã‚¡ã‚¤ãƒ«å­˜åœ¨ç¢ºèªå®Œäº†"
          
      - name: Validate Frontmatter
        run: |
          echo "ðŸ“ Frontmatterå®Œå…¨æ€§ãƒã‚§ãƒƒã‚¯é–‹å§‹..."
          
          errors=0
          for file in \$(find .cursor/rules -name "*.mdc"); do
            echo "ãƒã‚§ãƒƒã‚¯ä¸­: \$file"
            
            if ! head -10 "\$file" | grep -q "description:"; then
              echo "âŒ descriptionä¸è¶³: \$file"
              ((errors++))
            fi
            
            if ! head -10 "\$file" | grep -q "alwaysApply:"; then
              echo "âŒ alwaysApplyä¸è¶³: \$file"
              ((errors++))
            fi
          done
          
          if [[ \$errors -gt 0 ]]; then
            echo "âŒ Frontmatterã‚¨ãƒ©ãƒ¼: \$errors å€‹"
            exit 1
          fi
          
          echo "âœ… Frontmatterãƒã‚§ãƒƒã‚¯å®Œäº†"
          
      - name: Generate Rules Report
        run: |
          echo "# ðŸ“Š ${PROJECT_NAME} Cursor Rules ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ³" > rules-report.md
          echo "" >> rules-report.md
          echo "**ç”Ÿæˆæ—¥æ™‚**: \$(date)" >> rules-report.md
          echo "**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**: ${PROJECT_NAME}" >> rules-report.md
          echo "**æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯**: ${TECH_STACK}" >> rules-report.md
          echo "" >> rules-report.md
          
          echo "## ðŸ“‹ åŸºæœ¬çµ±è¨ˆ" >> rules-report.md
          total_mdc=\$(find .cursor/rules -name "*.mdc" | wc -l)
          always_apply_true=\$(grep -r "alwaysApply: true" .cursor/rules/ --include="*.mdc" | wc -l)
          always_apply_false=\$(grep -r "alwaysApply: false" .cursor/rules/ --include="*.mdc" | wc -l)
          
          echo "- ç·.mdcãƒ•ã‚¡ã‚¤ãƒ«æ•°: \$total_mdc" >> rules-report.md
          echo "- å¸¸æ™‚å‚ç…§(alwaysApply: true): \$always_apply_true" >> rules-report.md
          echo "- å‹•çš„å‚ç…§(alwaysApply: false): \$always_apply_false" >> rules-report.md
          echo "" >> rules-report.md
          
          echo "## ðŸŽ¯ ${PROJECT_NAME}ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰è¨­å®š" >> rules-report.md
          echo "- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚¿ã‚¤ãƒ—: ${PROJECT_TYPE}" >> rules-report.md
          echo "- ãƒãƒ¼ãƒ ã‚µã‚¤ã‚º: ${TEAM_SIZE}" >> rules-report.md
          echo "- ãƒ–ãƒ©ãƒ³ãƒæˆ¦ç•¥: ${BRANCH_STRATEGY}" >> rules-report.md
          
      - name: Comment PR with Report
        if: github.event_name == 'pull_request'
        uses: actions/github-script@v7
        with:
          script: |
            const fs = require('fs');
            const report = fs.readFileSync('rules-report.md', 'utf8');
            github.rest.issues.createComment({
              issue_number: context.issue.number,
              owner: context.repo.owner,
              repo: context.repo.repo,
              body: \`## ðŸ“‹ ${PROJECT_NAME} Cursor Rules Quality Report\\n\\n\${report}\`
            });

  project-validation:
    runs-on: ubuntu-latest
    name: ${PROJECT_NAME} Project Validation
    
    steps:
      - name: Checkout code
        uses: actions/checkout@v4
        
      - name: Validate Project Configuration
        run: |
          echo "ðŸ” ${PROJECT_NAME} ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®šæ¤œè¨¼é–‹å§‹..."
          
          # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ç¢ºèª
          if [[ -f ".cursor-project-config" ]]; then
            echo "âœ… ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«å­˜åœ¨ç¢ºèª"
            source .cursor-project-config
            echo "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå: \$PROJECT_NAME"
            echo "æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯: \$TECH_STACK"
          else
            echo "âš ï¸ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“"
          fi
          
          # ${TECH_STACK}å›ºæœ‰ã®æ¤œè¨¼
          echo "ðŸ”§ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯å›ºæœ‰æ¤œè¨¼: ${TECH_STACK}"
          # [å¿…è¦ã«å¿œã˜ã¦æŠ€è¡“å›ºæœ‰ã®æ¤œè¨¼ã‚’è¿½åŠ ]
          
          echo "âœ… ${PROJECT_NAME}ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¤œè¨¼å®Œäº†"
EOF

    log_success "GitHub Actions ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’ç”Ÿæˆã—ã¾ã—ãŸ"
}

# å®Ÿè£…ãƒ­ã‚°ã‚·ã‚¹ãƒ†ãƒ ç”Ÿæˆ
generate_implementation_logging() {
    log_info "å®Ÿè£…ãƒ­ã‚°ã‚·ã‚¹ãƒ†ãƒ ã‚’ç”Ÿæˆä¸­..."
    
    # å®Ÿè£…ãƒ­ã‚°ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆ
    mkdir -p .cursor/rules/implementation/logging
    mkdir -p .cursor/rules/templates
    
    # å®Ÿè£…ãƒ­ã‚°ãƒ«ãƒ¼ãƒ«ç”Ÿæˆ
    cat > .cursor/rules/implementation/logging/implementation-log-rules.mdc << EOF
---
description: ${PROJECT_NAME}ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç”¨å®Ÿè£…ãƒ­ã‚°ä½œæˆãƒ»ç®¡ç†ãƒ«ãƒ¼ãƒ«
globs: ["*"]
alwaysApply: true
---

# ${PROJECT_NAME} - å®Ÿè£…ãƒ­ã‚°ä½œæˆãƒ«ãƒ¼ãƒ«

## ðŸŽ¯ å®Ÿè£…ãƒ­ã‚°ã®ç›®çš„

### ${PROJECT_NAME}ã§ã®å®Ÿè£…è¨˜éŒ²
- **é€²æ—ã®å¯è¦–åŒ–**: é–‹ç™ºãƒ—ãƒ­ã‚»ã‚¹ã®é€æ˜Žæ€§ç¢ºä¿
- **çŸ¥è­˜ã®è“„ç©**: è§£æ±ºæ‰‹æ³•ãƒ»ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ä½“ç³»åŒ–
- **å“è³ªã®å‘ä¸Š**: æŒ¯ã‚Šè¿”ã‚Šã«ã‚ˆã‚‹ç¶™ç¶šçš„æ”¹å–„

## ðŸ“‹ å®Ÿè£…å®Œäº†ã®åˆ¤å®šåŸºæº–

### å®Ÿè£…å®Œäº†æ¡ä»¶
- ã‚¨ãƒ©ãƒ¼ãŒå®Œå…¨ã«ãªããªã£ãŸçŠ¶æ…‹
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰å‹•ä½œç¢ºèªãƒ»æ‰¿èªãŒå–ã‚ŒãŸå ´åˆ
- æ©Ÿèƒ½ãŒæœŸå¾…é€šã‚Šã«å‹•ä½œã™ã‚‹ã“ã¨ãŒç¢ºèªã•ã‚ŒãŸå ´åˆ

## ðŸ”„ å®Ÿè£…ãƒ­ã‚°ã®2è»¸æ§‹æˆ

### 1. ãƒ•ãƒ­ãƒ¼ï¼ˆFlowï¼‰- æ—¥æ¬¡å®Ÿè£…ãƒ­ã‚°
**ç›®çš„**: ãã®æ—¥ã®å®Ÿè£…éŽç¨‹ã‚’æ™‚ç³»åˆ—ã§è¨˜éŒ²
**å½¢å¼**: \`IMPLEMENTATION_LOG_YYYY-MM-DD.md\`

**æ§‹æˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ**:
\`\`\`markdown
# ${PROJECT_NAME} å®Ÿè£…ãƒ­ã‚° - YYYYå¹´MMæœˆDDæ—¥

## å®Ÿè£…é …ç›®: [é …ç›®å]
**é–‹å§‹æ™‚åˆ»**: HH:MM  
**å®Œäº†æ™‚åˆ»**: HH:MM  
**æ‰€è¦æ™‚é–“**: Xæ™‚é–“Yåˆ†

### å®Ÿè£…æ¦‚è¦
- ç›®çš„: [ä½•ã‚’å®Ÿè£…ã—ãŸã‹]
- å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«: [å¤‰æ›´ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§]
- ä¸»ãªå¤‰æ›´å†…å®¹: [å¤‰æ›´ã®æ¦‚è¦]

### å®Ÿè£…ãƒ—ãƒ­ã‚»ã‚¹
1. **èª¿æŸ»ãƒ»åˆ†æžãƒ•ã‚§ãƒ¼ã‚º**
   - å•é¡Œã®ç‰¹å®š
   - æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã®èª¿æŸ»
   - è§£æ±ºæ–¹é‡ã®æ±ºå®š

2. **å®Ÿè£…ãƒ•ã‚§ãƒ¼ã‚º**
   - å…·ä½“çš„ãªå®Ÿè£…æ‰‹é †
   - é­é‡ã—ãŸå•é¡Œã¨è§£æ±ºæ–¹æ³•
   - ã‚³ãƒ¼ãƒ‰ã®å¤‰æ›´è©³ç´°

3. **ãƒ†ã‚¹ãƒˆãƒ»æ¤œè¨¼ãƒ•ã‚§ãƒ¼ã‚º**
   - å‹•ä½œç¢ºèªæ–¹æ³•
   - ç™ºç”Ÿã—ãŸã‚¨ãƒ©ãƒ¼ã¨å¯¾å‡¦
   - æœ€çµ‚çš„ãªå‹•ä½œç¢ºèªçµæžœ

### æŠ€è¡“çš„ãªå­¦ã³
- æ–°ã—ãå­¦ã‚“ã æŠ€è¡“ãƒ»æ¦‚å¿µ
- åŠ¹æžœçš„ã ã£ãŸè§£æ±ºã‚¢ãƒ—ãƒ­ãƒ¼ãƒ
- ä»Šå¾Œæ´»ç”¨ã§ãã‚‹çŸ¥è­˜

### æ”¹å–„ç‚¹ãƒ»åçœç‚¹
- ã‚ˆã‚ŠåŠ¹çŽ‡çš„ã«ã§ããŸã§ã‚ã‚ã†æ–¹æ³•
- è¦‹è½ã¨ã—ã¦ã„ãŸç‚¹
- æ¬¡å›žã«æ´»ã‹ã™ã¹ãæ•™è¨“
\`\`\`

### 2. ã‚¹ãƒˆãƒƒã‚¯ï¼ˆStockï¼‰- çŸ¥è­˜è“„ç©ã‚·ã‚¹ãƒ†ãƒ 
**ç›®çš„**: æ—¥ã€…ã®å­¦ã³ã‚’ä¸€èˆ¬åŒ–ã—ã¦Cursorãƒ«ãƒ¼ãƒ«ã«æ˜‡è¯
**å½¢å¼**: Cursorãƒ«ãƒ¼ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã¸ã®è¿½åŠ ææ¡ˆ

**ãƒ—ãƒ­ã‚»ã‚¹**:
1. å®Ÿè£…å®Œäº†å¾Œã€å­¦ã³ã‚’æŠ½è±¡åŒ–
2. Cursorãƒ«ãƒ¼ãƒ«ã¨ã—ã¦æœ‰åŠ¹ãªå†…å®¹ã‚’ç‰¹å®š
3. ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ææ¡ˆãƒ»æ‰¿èªã‚’æ±‚ã‚ã‚‹
4. æ‰¿èªå¾Œã€é©åˆ‡ãªãƒ«ãƒ¼ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã«è¿½åŠ 

## âš¡ è‡ªå‹•å®Ÿè¡Œã‚¿ã‚¤ãƒŸãƒ³ã‚°

### å®Ÿè£…ãƒ­ã‚°ä½œæˆã®è‡ªå‹•å®Ÿè¡Œ
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€Œå‹•ä½œç¢ºèªã§ãã¾ã—ãŸã€ã€Œå•é¡Œã‚ã‚Šã¾ã›ã‚“ã€ã€Œå®Œäº†ã—ã¾ã—ãŸã€ç­‰ã®æ‰¿èªã‚’ç¤ºã—ãŸå ´åˆ
- ã‚¨ãƒ©ãƒ¼ãŒè§£æ¶ˆã•ã‚Œã€æ©Ÿèƒ½ãŒæ­£å¸¸ã«å‹•ä½œã™ã‚‹ã“ã¨ãŒç¢ºèªã•ã‚ŒãŸå ´åˆ
- é–‹ç™ºé …ç›®ãŒå®Œå…¨ã«å®Œäº†ã—ãŸå ´åˆ

### å®Ÿè¡Œãƒ—ãƒ­ã‚»ã‚¹
1. **ãƒ•ãƒ­ãƒ¼ï¼ˆæ—¥æ¬¡ãƒ­ã‚°ï¼‰**: å¿…ãšä½œæˆ
2. **ã‚¹ãƒˆãƒƒã‚¯ï¼ˆãƒ«ãƒ¼ãƒ«ææ¡ˆï¼‰**: å­¦ã³ãŒã‚ã‚‹å ´åˆã®ã¿ææ¡ˆ
3. **ãƒ¦ãƒ¼ã‚¶ãƒ¼æ‰¿èª**: Cursorãƒ«ãƒ¼ãƒ«ã¸ã®è¿½åŠ ã¯æ‰¿èªå¾Œã®ã¿

---

**ðŸ“ ${PROJECT_NAME} å®Ÿè£…ãƒ­ã‚°ã‚·ã‚¹ãƒ†ãƒ **: $(date +%Y-%m-%d)è‡ªå‹•ç”Ÿæˆ
EOF

    # å®Ÿè£…ãƒ­ã‚°ã‚¹ãƒˆãƒƒã‚¯ç®¡ç†ãƒ«ãƒ¼ãƒ«ç”Ÿæˆ
    cat > .cursor/rules/implementation/logging/implementation-log-stock.mdc << EOF
---
description: ${PROJECT_NAME}ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç”¨å®Ÿè£…ãƒ­ã‚°ã®çŸ¥è­˜ã‚¹ãƒˆãƒƒã‚¯åŒ–ãƒ»Cursorãƒ«ãƒ¼ãƒ«æ˜‡è¯ç®¡ç†
globs: ["*.mdc", "*.md"]
alwaysApply: false
---

# ${PROJECT_NAME} - å®Ÿè£…ãƒ­ã‚°çŸ¥è­˜ã‚¹ãƒˆãƒƒã‚¯ç®¡ç†

## ðŸŽ¯ çŸ¥è­˜ã‚¹ãƒˆãƒƒã‚¯åŒ–ã®ç›®çš„

### ${PROJECT_NAME}ã§ã®çŸ¥è­˜ä½“ç³»åŒ–
- **å­¦ç¿’ã®å®šç€**: å€‹åˆ¥çµŒé¨“ã‚’ä¸€èˆ¬åŒ–ã•ã‚ŒãŸçŸ¥è­˜ã«å¤‰æ›
- **ãƒãƒ¼ãƒ å…±æœ‰**: å€‹äººã®å­¦ã³ã‚’ãƒãƒ¼ãƒ å…¨ä½“ã®è³‡ç”£ã«
- **å“è³ªå‘ä¸Š**: è“„ç©ã•ã‚ŒãŸçŸ¥è­˜ã«ã‚ˆã‚‹é–‹ç™ºåŠ¹çŽ‡ãƒ»å“è³ªã®å‘ä¸Š

## ðŸ“š ã‚¹ãƒˆãƒƒã‚¯åŒ–ãƒ—ãƒ­ã‚»ã‚¹

### Phase 1: å­¦ã³ã®æŠ½å‡º
\`\`\`yaml
å¯¾è±¡ã¨ãªã‚‹å­¦ã³:
  - æ–°ã—ã„æŠ€è¡“ãƒ»æ¦‚å¿µã®ç¿’å¾—
  - åŠ¹æžœçš„ãªè§£æ±ºã‚¢ãƒ—ãƒ­ãƒ¼ãƒã®ç™ºè¦‹
  - ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºãƒ‘ã‚¿ãƒ¼ãƒ³
  - ${TECH_STACK}å›ºæœ‰ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹
  - ${TEAM_SIZE}ãƒãƒ¼ãƒ å‘ã‘é–‹ç™ºæ‰‹æ³•
\`\`\`

### Phase 2: ä¸€èˆ¬åŒ–ãƒ»æŠ½è±¡åŒ–
\`\`\`yaml
æŠ½è±¡åŒ–ã®è¦³ç‚¹:
  - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰ â†’ ä¸€èˆ¬çš„ãªåŽŸå‰‡
  - å…·ä½“çš„æ‰‹é † â†’ å†åˆ©ç”¨å¯èƒ½ãªãƒ‘ã‚¿ãƒ¼ãƒ³
  - å€‹äººçµŒé¨“ â†’ ãƒãƒ¼ãƒ æ¨™æº–æ‰‹æ³•
  - æŠ€è¡“è©³ç´° â†’ è¨­è¨ˆåŽŸå‰‡
\`\`\`

### Phase 3: Cursorãƒ«ãƒ¼ãƒ«ææ¡ˆ
\`\`\`markdown
## æ–°ã—ã„Cursorãƒ«ãƒ¼ãƒ«ææ¡ˆ

### å­¦ã³ã®èƒŒæ™¯
[ä»Šå›žã®å®Ÿè£…ã§å¾—ã‚‰ã‚ŒãŸå…·ä½“çš„ãªçµŒé¨“]

### æŠ½è±¡åŒ–ã•ã‚ŒãŸãƒ«ãƒ¼ãƒ«
[ä¸€èˆ¬çš„ãªé–‹ç™ºã«é©ç”¨å¯èƒ½ãªå½¢ã«æŠ½è±¡åŒ–ã•ã‚ŒãŸãƒ«ãƒ¼ãƒ«]

### é©ç”¨å ´é¢
[ã“ã®ãƒ«ãƒ¼ãƒ«ãŒæœ‰åŠ¹ãªå ´é¢ãƒ»æ¡ä»¶]

### æœŸå¾…ã•ã‚Œã‚‹åŠ¹æžœ
[ã“ã®ãƒ«ãƒ¼ãƒ«ã‚’é©ç”¨ã™ã‚‹ã“ã¨ã§å¾—ã‚‰ã‚Œã‚‹åŠ¹æžœ]

### ææ¡ˆå…ˆãƒ•ã‚¡ã‚¤ãƒ«
[è¿½åŠ å…ˆã®Cursorãƒ«ãƒ¼ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«å]
\`\`\`

## ðŸ”„ ${PROJECT_NAME}å›ºæœ‰ã‚¹ãƒˆãƒƒã‚¯æˆ¦ç•¥

### æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ç‰¹åŒ–ã‚¹ãƒˆãƒƒã‚¯
\`\`\`yaml
${TECH_STACK}é–¢é€£:
  - ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰: ${FRONTEND}ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹
  - ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰: ${BACKEND}ã®å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³
  - ã‚¤ãƒ³ãƒ•ãƒ©: ${DEPLOYMENT}ã®é‹ç”¨çŸ¥è­˜
\`\`\`

### ãƒãƒ¼ãƒ è¦æ¨¡å¯¾å¿œã‚¹ãƒˆãƒƒã‚¯
\`\`\`yaml
${TEAM_SIZE}ãƒãƒ¼ãƒ å‘ã‘:
  - ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³åŠ¹çŽ‡åŒ–
  - ä½œæ¥­åˆ†æ‹…æœ€é©åŒ–
  - ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼æ”¹å–„
\`\`\`

## ðŸ“Š ã‚¹ãƒˆãƒƒã‚¯ç®¡ç†ãƒ»æ´»ç”¨

### å®šæœŸãƒ¬ãƒ“ãƒ¥ãƒ¼
- **é€±æ¬¡**: è“„ç©ã•ã‚ŒãŸå­¦ã³ã®ç¢ºèª
- **æœˆæ¬¡**: Cursorãƒ«ãƒ¼ãƒ«ææ¡ˆã®æ•´ç†
- **å››åŠæœŸ**: ã‚¹ãƒˆãƒƒã‚¯æˆ¦ç•¥ã®è¦‹ç›´ã—

### å“è³ªç®¡ç†
- **é‡è¤‡ãƒã‚§ãƒƒã‚¯**: æ—¢å­˜ãƒ«ãƒ¼ãƒ«ã¨ã®é‡è¤‡å›žé¿
- **ä¸€è²«æ€§ç¢ºèª**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“ã¨ã®æ•´åˆæ€§
- **å®Ÿç”¨æ€§æ¤œè¨¼**: å®Ÿéš›ã®é–‹ç™ºã§ã®æœ‰åŠ¹æ€§ç¢ºèª

---

**ðŸ“š ${PROJECT_NAME} çŸ¥è­˜ã‚¹ãƒˆãƒƒã‚¯ã‚·ã‚¹ãƒ†ãƒ **: $(date +%Y-%m-%d)è‡ªå‹•ç”Ÿæˆ
EOF

    # å®Ÿè£…ãƒ­ã‚°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç”Ÿæˆ
    cat > .cursor/rules/templates/implementation-log-template.md << EOF
# ${PROJECT_NAME} å®Ÿè£…ãƒ­ã‚° - $(date +%Yå¹´%mæœˆ%dæ—¥)

## å®Ÿè£…é …ç›®: [å…·ä½“çš„ãªå®Ÿè£…å†…å®¹]
**é–‹å§‹æ™‚åˆ»**: $(date +%H:%M)  
**å®Œäº†æ™‚åˆ»**: [å®Œäº†æ™‚ã«è¨˜å…¥]  
**æ‰€è¦æ™‚é–“**: [æ‰€è¦æ™‚é–“ã‚’è¨˜å…¥]

## å®Ÿè£…æ¦‚è¦
- **ç›®çš„**: [ä½•ã‚’é”æˆã—ã‚ˆã†ã¨ã—ãŸã‹]
- **å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«**: [å¤‰æ›´ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§]
- **ä¸»ãªå¤‰æ›´å†…å®¹**: [å¤‰æ›´ã®æ¦‚è¦]

## å®Ÿè£…ãƒ—ãƒ­ã‚»ã‚¹

### 1. èª¿æŸ»ãƒ»åˆ†æžãƒ•ã‚§ãƒ¼ã‚º
- **å•é¡Œã®ç‰¹å®š**: 
- **æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã®èª¿æŸ»**: 
- **è§£æ±ºæ–¹é‡ã®æ±ºå®š**: 

### 2. å®Ÿè£…ãƒ•ã‚§ãƒ¼ã‚º
- **å…·ä½“çš„ãªå®Ÿè£…æ‰‹é †**: 
- **é­é‡ã—ãŸå•é¡Œã¨è§£æ±ºæ–¹æ³•**: 
- **ã‚³ãƒ¼ãƒ‰ã®å¤‰æ›´è©³ç´°**: 

### 3. ãƒ†ã‚¹ãƒˆãƒ»æ¤œè¨¼ãƒ•ã‚§ãƒ¼ã‚º
- **å‹•ä½œç¢ºèªæ–¹æ³•**: 
- **ç™ºç”Ÿã—ãŸã‚¨ãƒ©ãƒ¼ã¨å¯¾å‡¦**: 
- **æœ€çµ‚çš„ãªå‹•ä½œç¢ºèªçµæžœ**: 

## æŠ€è¡“çš„ãªå­¦ã³
- **æ–°ã—ãå­¦ã‚“ã æŠ€è¡“ãƒ»æ¦‚å¿µ**: 
- **åŠ¹æžœçš„ã ã£ãŸè§£æ±ºã‚¢ãƒ—ãƒ­ãƒ¼ãƒ**: 
- **ä»Šå¾Œæ´»ç”¨ã§ãã‚‹çŸ¥è­˜**: 

## æ”¹å–„ç‚¹ãƒ»åçœç‚¹
- **ã‚ˆã‚ŠåŠ¹çŽ‡çš„ã«ã§ããŸã§ã‚ã‚ã†æ–¹æ³•**: 
- **è¦‹è½ã¨ã—ã¦ã„ãŸç‚¹**: 
- **æ¬¡å›žã«æ´»ã‹ã™ã¹ãæ•™è¨“**: 

## ${PROJECT_NAME}å›ºæœ‰ã®å­¦ã³
- **${TECH_STACK}é–¢é€£ã®çŸ¥è¦‹**: 
- **${TEAM_SIZE}ãƒãƒ¼ãƒ é–‹ç™ºã§ã®æ°—ã¥ã**: 
- **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰ã®åˆ¶ç´„ãƒ»è§£æ±ºç­–**: 

---

**ðŸ“ å®Ÿè£…å®Œäº†æ—¥**: $(date +%Yå¹´%mæœˆ%dæ—¥)  
**å®Ÿè£…è€…**: [å®Ÿè£…è€…å]  
**ãƒ¬ãƒ“ãƒ¥ãƒ¼çŠ¶æ³**: [ãƒ¬ãƒ“ãƒ¥ãƒ¼çŠ¶æ³]
EOF

    log_success "å®Ÿè£…ãƒ­ã‚°ã‚·ã‚¹ãƒ†ãƒ ã‚’ç”Ÿæˆã—ã¾ã—ãŸ"
}

# æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯å›ºæœ‰ãƒ«ãƒ¼ãƒ«ç”Ÿæˆ
generate_tech_specific_rules() {
    log_info "æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯å›ºæœ‰ãƒ«ãƒ¼ãƒ«ã‚’ç”Ÿæˆä¸­..."
    
    # ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å›ºæœ‰ãƒ«ãƒ¼ãƒ«
    if [[ "${FRONTEND,,}" == *"next"* ]] || [[ "${FRONTEND,,}" == *"react"* ]]; then
        cat > .cursor/rules/templates/tech-stack/react-nextjs.mdc << EOF
---
description: React/Next.jsæŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯å›ºæœ‰ã®é–‹ç™ºãƒ«ãƒ¼ãƒ«ãƒ»ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ï¼ˆ${PROJECT_NAME}ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç”¨ï¼‰
globs: ["app/**/*", "components/**/*", "pages/**/*", "src/**/*", "*.tsx", "*.jsx"]
alwaysApply: false
---

# ${PROJECT_NAME} - React/Next.js é–‹ç™ºãƒ«ãƒ¼ãƒ«

## ðŸŽ¯ ${PROJECT_NAME}ã§ã®æŠ€è¡“è¦ä»¶

### Next.jsè¦ä»¶
- App Routerä½¿ç”¨ï¼ˆNext.js 13+ï¼‰
- Server Componentsã®ç©æ¥µæ´»ç”¨
- Client Componentsã¯å¿…è¦æœ€å°é™ã«

### Reactè¦ä»¶
- é–¢æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½¿ç”¨
- Hooksãƒ™ãƒ¼ã‚¹ã®çŠ¶æ…‹ç®¡ç†
- TypeScriptå¿…é ˆ

## ðŸ“‹ ${PROJECT_NAME}ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

\`\`\`
app/                     # Next.js App Router
â”œâ”€â”€ (auth)/             # èªè¨¼é–¢é€£ãƒšãƒ¼ã‚¸
â”œâ”€â”€ dashboard/          # ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰  
â”œâ”€â”€ api/               # API Routes
â””â”€â”€ globals.css        # ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚¿ã‚¤ãƒ«

components/             # å†åˆ©ç”¨å¯èƒ½ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”œâ”€â”€ ui/                # shadcn/uiç­‰ã®UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”œâ”€â”€ forms/             # ãƒ•ã‚©ãƒ¼ãƒ å°‚ç”¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â””â”€â”€ ${PROJECT_NAME,,}/ # ${PROJECT_NAME}å›ºæœ‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

lib/                   # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ»è¨­å®š
â”œâ”€â”€ utils/             # ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°
â””â”€â”€ types/             # TypeScriptåž‹å®šç¾©
\`\`\`

## ðŸ”§ ${PROJECT_NAME}å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³

### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½œæˆ
\`\`\`typescript
// ${PROJECT_NAME}ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
interface ${PROJECT_NAME}ComponentProps {
  // ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£å®šç¾©
}

export function ${PROJECT_NAME}Component({ ...props }: ${PROJECT_NAME}ComponentProps) {
  // å®Ÿè£…
}
\`\`\`

---

**ðŸ“ ${PROJECT_NAME}å›ºæœ‰è¨­å®š**: $(date +%Y-%m-%d)è‡ªå‹•ç”Ÿæˆ
EOF
    fi
    
    # ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å›ºæœ‰ãƒ«ãƒ¼ãƒ«
    if [[ "${BACKEND,,}" == *"supabase"* ]]; then
        cat > .cursor/rules/templates/tech-stack/supabase.mdc << EOF
---
description: SupabaseæŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯å›ºæœ‰ã®é–‹ç™ºãƒ«ãƒ¼ãƒ«ãƒ»ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ï¼ˆ${PROJECT_NAME}ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç”¨ï¼‰
globs: ["supabase/**/*", "lib/supabase/**/*", "lib/database/**/*"]
alwaysApply: false
---

# ${PROJECT_NAME} - Supabase é–‹ç™ºãƒ«ãƒ¼ãƒ«

## ðŸŽ¯ ${PROJECT_NAME}ã§ã®Supabaseè¦ä»¶

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¦ä»¶
- Row Level Security (RLS)å¿…é ˆ
- é©åˆ‡ãªãƒãƒªã‚·ãƒ¼è¨­å®š
- æ©Ÿå¯†ãƒ‡ãƒ¼ã‚¿ã®æš—å·åŒ–

### åž‹å®‰å…¨æ€§
- supabase-jsä½¿ç”¨
- TypeScriptåž‹ç”Ÿæˆãƒ»æ´»ç”¨
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ©Ÿèƒ½ã®é©åˆ‡ãªä½¿ç”¨

## ðŸ“‹ ${PROJECT_NAME}ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

\`\`\`
supabase/
â”œâ”€â”€ migrations/         # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒžã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
â”œâ”€â”€ functions/         # Edge Functions
â””â”€â”€ config.toml       # Supabaseè¨­å®š

lib/supabase/
â”œâ”€â”€ client.ts         # Supabaseã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè¨­å®š
â”œâ”€â”€ types.ts          # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹åž‹å®šç¾©
â””â”€â”€ queries/          # ã‚¯ã‚¨ãƒªé–¢æ•°é›†
\`\`\`

## ðŸ”§ ${PROJECT_NAME}å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹
\`\`\`typescript
// ${PROJECT_NAME}ç”¨Supabaseã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
import { createClient } from '@supabase/supabase-js'

const supabase = createClient(
  process.env.NEXT_PUBLIC_SUPABASE_URL!,
  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!
)
\`\`\`

---

**ðŸ“ ${PROJECT_NAME}å›ºæœ‰è¨­å®š**: $(date +%Y-%m-%d)è‡ªå‹•ç”Ÿæˆ
EOF
    fi
    
    log_success "æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯å›ºæœ‰ãƒ«ãƒ¼ãƒ«ã‚’ç”Ÿæˆã—ã¾ã—ãŸ"
}

# ãƒãƒ¼ãƒ è¦æ¨¡å›ºæœ‰ãƒ«ãƒ¼ãƒ«ç”Ÿæˆ
generate_team_specific_rules() {
    log_info "ãƒãƒ¼ãƒ è¦æ¨¡å›ºæœ‰ãƒ«ãƒ¼ãƒ«ã‚’ç”Ÿæˆä¸­..."
    
    cat > .cursor/rules/templates/team-structure/${TEAM_SIZE}-team.mdc << EOF
---
description: ${TEAM_SIZE}è¦æ¨¡ãƒãƒ¼ãƒ å‘ã‘ã®é–‹ç™ºãƒ«ãƒ¼ãƒ«ãƒ»ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼ˆ${PROJECT_NAME}ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç”¨ï¼‰
globs: ["*"]
alwaysApply: false
---

# ${PROJECT_NAME} - ${TEAM_SIZE}ãƒãƒ¼ãƒ é–‹ç™ºãƒ«ãƒ¼ãƒ«

## ðŸŽ¯ ${TEAM_SIZE}ãƒãƒ¼ãƒ ç‰¹åŒ–è¦ä»¶

$(
case ${TEAM_SIZE} in
  "small")
    echo "### è»½é‡ãƒ—ãƒ­ã‚»ã‚¹"
    echo "- éŽåº¦ãªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ä¸è¦"
    echo "- ç›´æŽ¥ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³é‡è¦–"
    echo "- è¿…é€Ÿãªæ„æ€æ±ºå®š"
    echo ""
    echo "### ã‚·ãƒ³ãƒ—ãƒ«ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼"
    echo "- GitHub FlowæŽ¡ç”¨"
    echo "- Feature branchã¯çŸ­æœŸé–“"
    echo "- è¿…é€Ÿãªãƒžãƒ¼ã‚¸ãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤"
    ;;
  "medium")
    echo "### ãƒãƒ©ãƒ³ã‚¹åž‹ãƒ—ãƒ­ã‚»ã‚¹"
    echo "- å¿…è¦æœ€å°é™ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ"
    echo "- å®šæœŸçš„ãªãƒãƒ¼ãƒ ãƒŸãƒ¼ãƒ†ã‚£ãƒ³ã‚°"
    echo "- æ®µéšŽçš„ãªæ„æ€æ±ºå®š"
    echo ""
    echo "### æ¨™æº–ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼"
    echo "- Git Flow ã¾ãŸã¯ GitHub Flow"
    echo "- ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼å¿…é ˆ"
    echo "- å“è³ªã‚²ãƒ¼ãƒˆè¨­å®š"
    ;;
  "large")
    echo "### æ§‹é€ åŒ–ãƒ—ãƒ­ã‚»ã‚¹"
    echo "- åŒ…æ‹¬çš„ãªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ"
    echo "- æ­£å¼ãªãƒŸãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ»æ‰¿èªãƒ—ãƒ­ã‚»ã‚¹"
    echo "- ãƒªã‚¹ã‚¯ç®¡ç†ãƒ»å“è³ªä¿è¨¼"
    echo ""
    echo "### ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼"
    echo "- Git FlowæŽ¡ç”¨"
    echo "- å¤šæ®µéšŽãƒ¬ãƒ“ãƒ¥ãƒ¼"
    echo "- è‡ªå‹•åŒ–ã•ã‚ŒãŸå“è³ªãƒã‚§ãƒƒã‚¯"
    ;;
esac
)

## ðŸ“‹ ${PROJECT_NAME}ã§ã®${TEAM_SIZE}ãƒãƒ¼ãƒ é‹ç”¨

### ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³
$(
case ${TEAM_SIZE} in
  "small")
    echo "- Slack/Discordç­‰ã§ã®å³åº§é€£çµ¡"
    echo "- é€±1å›žã®ç°¡å˜ãªé€²æ—å…±æœ‰"
    echo "- å•é¡Œç™ºç”Ÿæ™‚ã®å³åº§ç›¸è«‡"
    ;;
  "medium")
    echo "- å®šæœŸãƒŸãƒ¼ãƒ†ã‚£ãƒ³ã‚°ï¼ˆé€±2å›žï¼‰"
    echo "- é€²æ—ç®¡ç†ãƒ„ãƒ¼ãƒ«æ´»ç”¨"
    echo "- ãƒãƒ¼ãƒ å†…ãƒšã‚¢ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°"
    ;;
  "large")
    echo "- æ­£å¼ãªã‚¹ã‚¿ãƒ³ãƒ‰ã‚¢ãƒƒãƒ—ãƒŸãƒ¼ãƒ†ã‚£ãƒ³ã‚°"
    echo "- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†ãƒ„ãƒ¼ãƒ«å¿…é ˆ"
    echo "- ã‚¯ãƒ­ã‚¹ãƒ•ã‚¡ãƒ³ã‚¯ã‚·ãƒ§ãƒŠãƒ«ãƒãƒ¼ãƒ é‹å–¶"
    ;;
esac
)

### ã‚¿ã‚¹ã‚¯ç®¡ç†
$(
case ${TEAM_SIZE} in
  "small")
    echo "- GitHub Issues or ç°¡å˜ãªToDoãƒªã‚¹ãƒˆ"
    echo "- å€‹äººè²¬ä»»åˆ¶"
    echo "- æŸ”è»Ÿãªå„ªå…ˆé †ä½å¤‰æ›´"
    ;;
  "medium")
    echo "- GitHub Projects or Trello"
    echo "- ã‚¹ãƒ—ãƒªãƒ³ãƒˆè¨ˆç”»"
    echo "- å®šæœŸçš„ãªæŒ¯ã‚Šè¿”ã‚Š"
    ;;
  "large")
    echo "- Jiraç­‰ã®æœ¬æ ¼çš„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†"
    echo "- ã‚¨ãƒ”ãƒƒã‚¯ãƒ»ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ç®¡ç†"
    echo "- ãƒ¡ãƒˆãƒªã‚¯ã‚¹ãƒ»KPIè¿½è·¡"
    ;;
esac
)

---

**ðŸ“ ${PROJECT_NAME} ${TEAM_SIZE}ãƒãƒ¼ãƒ è¨­å®š**: $(date +%Y-%m-%d)è‡ªå‹•ç”Ÿæˆ
EOF

    log_success "ãƒãƒ¼ãƒ è¦æ¨¡å›ºæœ‰ãƒ«ãƒ¼ãƒ«ã‚’ç”Ÿæˆã—ã¾ã—ãŸ"
}

# READMEæ›´æ–°
update_readme() {
    log_info "README.mdã‚’æ›´æ–°ä¸­..."
    
    # README.mdãŒå­˜åœ¨ã—ãªã„å ´åˆã¯ä½œæˆ
    if [[ ! -f "README.md" ]]; then
        cat > README.md << EOF
# ${PROJECT_NAME}

**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚¿ã‚¤ãƒ—**: ${PROJECT_TYPE}  
**æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯**: ${TECH_STACK}  
**ãƒãƒ¼ãƒ è¦æ¨¡**: ${TEAM_SIZE}  
**ä½œæˆæ—¥**: $(date +%Yå¹´%mæœˆ%dæ—¥)

## ðŸ“‹ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

[ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ¦‚è¦ã‚’è¨˜è¿°ã—ã¦ãã ã•ã„]

## ðŸš€ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
- **${FRONTEND}**: [èª¬æ˜Ž]

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰  
- **${BACKEND}**: [èª¬æ˜Ž]

### ãã®ä»–
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**: ${DATABASE}
- **ãƒ‡ãƒ—ãƒ­ã‚¤**: ${DEPLOYMENT}
- **AI/LLM**: ${AI_LLM}

## ðŸ”§ é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

\`\`\`bash
# ãƒªãƒã‚¸ãƒˆãƒªã‚¯ãƒ­ãƒ¼ãƒ³
git clone ${REPO_URL}
cd ${PROJECT_NAME,,}

# ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
[ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚³ãƒžãƒ³ãƒ‰ã‚’è¨˜è¿°]

# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
[èµ·å‹•ã‚³ãƒžãƒ³ãƒ‰ã‚’è¨˜è¿°]
\`\`\`

## ðŸ“š Cursor Rules ã‚·ã‚¹ãƒ†ãƒ 

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã€Cursor AI ã®é–‹ç™ºåŠ¹çŽ‡ã‚’æœ€å¤§åŒ–ã™ã‚‹ãŸã‚ã€åŒ…æ‹¬çš„ãªãƒ«ãƒ¼ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã‚’å°Žå…¥ã—ã¦ã„ã¾ã™ã€‚

### åŸºæœ¬æ§‹æˆ
- **ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ**: \`.cursor/rules/mdc-metadata-manager.mdc\`
- **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦**: \`.cursor/rules/core/project-overview.mdc\`
- **æŠ€è¡“å›ºæœ‰ãƒ«ãƒ¼ãƒ«**: \`.cursor/rules/templates/tech-stack/\`
- **ãƒãƒ¼ãƒ å›ºæœ‰ãƒ«ãƒ¼ãƒ«**: \`.cursor/rules/templates/team-structure/\`

### ä½¿ç”¨æ–¹æ³•
1. Cursor ã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’é–‹ã
2. è‡ªå‹•çš„ã«ãƒ«ãƒ¼ãƒ«ãŒé©ç”¨ã•ã‚Œã‚‹  
3. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰ã®æ”¯æ´ã‚’å—ã‘ã‚‹

## ðŸ¤ é–‹ç™ºãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

### ãƒ–ãƒ©ãƒ³ãƒæˆ¦ç•¥
- **æˆ¦ç•¥**: ${BRANCH_STRATEGY}
- **ãƒ¡ã‚¤ãƒ³ãƒ–ãƒ©ãƒ³ãƒ**: main
- **é–‹ç™ºãƒ–ãƒ©ãƒ³ãƒ**: feature/*, fix/*, hotfix/*

### ã‚³ãƒŸãƒƒãƒˆè¦ç´„
\`\`\`
<type>: <æ¦‚è¦>

<è©³ç´°èª¬æ˜Ž>
\`\`\`

### ã‚¿ã‚¤ãƒ—
- \`feat\`: æ–°æ©Ÿèƒ½è¿½åŠ 
- \`fix\`: ãƒã‚°ä¿®æ­£
- \`docs\`: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°
- \`style\`: ã‚¹ã‚¿ã‚¤ãƒ«å¤‰æ›´
- \`refactor\`: ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
- \`test\`: ãƒ†ã‚¹ãƒˆè¿½åŠ ãƒ»ä¿®æ­£
- \`chore\`: ãã®ä»–ã®å¤‰æ›´

## ðŸ“Š ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†

### ${TEAM_SIZE}ãƒãƒ¼ãƒ æ§‹æˆ
- **çµŒé¨“ãƒ¬ãƒ™ãƒ«**: ${TEAM_EXPERIENCE}
- **é–‹ç™ºã‚¹ã‚¿ã‚¤ãƒ«**: ${DEVELOPMENT_STYLE}
- **ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³**: [ä½¿ç”¨ãƒ„ãƒ¼ãƒ«ãƒ»æ–¹æ³•]

### ãƒžã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³
- **Phase 1**: [ç›®æ¨™ãƒ»æœŸé–“]
- **Phase 2**: [ç›®æ¨™ãƒ»æœŸé–“]  
- **Phase 3**: [ç›®æ¨™ãƒ»æœŸé–“]

## ðŸ”— é–¢é€£ãƒªãƒ³ã‚¯

- **ãƒªãƒã‚¸ãƒˆãƒª**: ${REPO_URL}
- **ãƒ‡ãƒ—ãƒ­ã‚¤å…ˆ**: [ãƒ‡ãƒ—ãƒ­ã‚¤URL]
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: [ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆURL]

## ðŸ“ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

[ãƒ©ã‚¤ã‚»ãƒ³ã‚¹æƒ…å ±]

---

**æœ€çµ‚æ›´æ–°**: $(date +%Yå¹´%mæœˆ%dæ—¥)  
**Cursor Rules ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0.0
EOF
    else
        # æ—¢å­˜README.mdã«Cursor Rules ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ 
        if ! grep -q "Cursor Rules ã‚·ã‚¹ãƒ†ãƒ " README.md; then
            cat >> README.md << EOF

## ðŸ“š Cursor Rules ã‚·ã‚¹ãƒ†ãƒ 

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼ˆ${PROJECT_NAME}ï¼‰ã§ã¯ã€Cursor AI ã®é–‹ç™ºåŠ¹çŽ‡ã‚’æœ€å¤§åŒ–ã™ã‚‹ãŸã‚ã€åŒ…æ‹¬çš„ãªãƒ«ãƒ¼ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã‚’å°Žå…¥ã—ã¦ã„ã¾ã™ã€‚

### åŸºæœ¬æ§‹æˆ
- **ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ**: \`.cursor/rules/mdc-metadata-manager.mdc\`
- **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦**: \`.cursor/rules/core/project-overview.mdc\`
- **æŠ€è¡“å›ºæœ‰ãƒ«ãƒ¼ãƒ«**: \`.cursor/rules/templates/tech-stack/\`ï¼ˆ${TECH_STACK}å¯¾å¿œï¼‰
- **ãƒãƒ¼ãƒ å›ºæœ‰ãƒ«ãƒ¼ãƒ«**: \`.cursor/rules/templates/team-structure/\`ï¼ˆ${TEAM_SIZE}ãƒãƒ¼ãƒ å¯¾å¿œï¼‰

### ã‚·ã‚¹ãƒ†ãƒ ç‰¹å¾´
- **å‹•çš„å‚ç…§**: å¿…è¦ãªæ™‚ã«å¿…è¦ãªãƒ«ãƒ¼ãƒ«ã®ã¿å‚ç…§
- **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç‰¹åŒ–**: ${PROJECT_NAME}ã®æŠ€è¡“ãƒ»ãƒãƒ¼ãƒ æ§‹æˆã«æœ€é©åŒ–
- **è‡ªå‹•å“è³ªç®¡ç†**: GitHub Actions ã«ã‚ˆã‚‹ç¶™ç¶šçš„å“è³ªãƒã‚§ãƒƒã‚¯

---
**Cursor Rules ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ—¥**: $(date +%Yå¹´%mæœˆ%dæ—¥)
EOF
        fi
    fi
    
    log_success "README.mdã‚’æ›´æ–°ã—ã¾ã—ãŸ"
}

# ãƒ¡ã‚¤ãƒ³å®Ÿè¡Œé–¢æ•°
main() {
    show_banner
    
    log_info "${PROJECT_NAME:-æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ}ã®Cursorãƒ«ãƒ¼ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚’é–‹å§‹ã—ã¾ã™..."
    echo ""
    
    # ãƒ•ã‚§ãƒ¼ã‚ºå®Ÿè¡Œ
    setup_config
    create_directory_structure
    generate_entry_point
    generate_project_overview
    generate_basic_rules
    generate_implementation_logging
    generate_github_actions
    generate_tech_specific_rules
    generate_team_specific_rules
    update_readme
    
    echo ""
    log_success "ðŸŽ‰ Cursorãƒ«ãƒ¼ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒå®Œäº†ã—ã¾ã—ãŸï¼"
    echo ""
    echo -e "${GREEN}ðŸ“ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—:${NC}"
    echo "1. .cursor/rules/core/project-overview.mdc ã‚’ç·¨é›†ã—ã¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè©³ç´°ã‚’è¨˜è¿°"
    echo "2. æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯å›ºæœ‰ã®è¨­å®šã‚’ .cursor/rules/templates/tech-stack/ ã§ç¢ºèªãƒ»èª¿æ•´"
    echo "3. Cursor ã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’é–‹ã„ã¦å‹•çš„å‚ç…§ã‚·ã‚¹ãƒ†ãƒ ã‚’ä½“é¨“"
    echo "4. Git ã‚³ãƒŸãƒƒãƒˆãƒ»ãƒ—ãƒƒã‚·ãƒ¥ã§ GitHub Actions å“è³ªãƒã‚§ãƒƒã‚¯ã‚’ç¢ºèª"
    echo ""
    echo -e "${BLUE}ðŸ“Š ç”Ÿæˆã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«:${NC}"
    find .cursor/rules -name "*.mdc" -o -name "*.md" | head -10
    echo ""
    echo -e "${YELLOW}âš ï¸  é‡è¦: .cursor-project-config ãƒ•ã‚¡ã‚¤ãƒ«ã«ã¯æ©Ÿå¯†æƒ…å ±ã‚’å«ã‚ãªã„ã§ãã ã•ã„${NC}"
}

# ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œ
main "$@" 